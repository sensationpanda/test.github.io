<!doctype html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æµ‹è¯•ç”¨ HTML é¡µé¢</title>
  <style>
    :root{
      --bg: #f7f7fb;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --brand: #3b82f6;
      --brand-2:#2563eb;
      --ok:#16a34a;
      --warn:#f59e0b;
      --err:#ef4444;
      --border:#e5e7eb;
      --shadow: 0 8px 24px rgba(0,0,0,.08);
      --radius: 14px;
    }
    [data-theme="dark"]{
      --bg: #0b1220;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --brand: #60a5fa;
      --brand-2:#3b82f6;
      --ok:#22c55e;
      --warn:#fbbf24;
      --err:#f87171;
      --border:#1f2937;
      --shadow: 0 8px 24px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",sans-serif;
      color:var(--text);
      background:linear-gradient(180deg, var(--bg), color-mix(in oklab, var(--bg) 80%, #fff 20%));
    }
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter:saturate(1.2) blur(8px);
      background: color-mix(in oklab, var(--bg) 65%, var(--card) 35%);
      border-bottom:1px solid var(--border);
    }
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .nav{
      display:flex;align-items:center;gap:12px;justify-content:space-between;
    }
    .brand{font-weight:700;letter-spacing:.3px}
    .btn{
      appearance:none;border:1px solid var(--border);background:var(--card);
      color:var(--text); padding:8px 12px;border-radius:10px;cursor:pointer;
      box-shadow:var(--shadow); transition:.2s transform, .2s box-shadow, .2s background;
    }
    .btn.primary{border-color:transparent;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff}
    .btn.ghost{background:transparent; box-shadow:none}
    .btn:active{transform:translateY(1px)}
    .grid{
      display:grid; gap:16px; align-items:start;
      grid-template-columns: 1.2fr .8fr;
    }
    @media (max-width: 900px){ .grid{grid-template-columns: 1fr} }

    .card{
      background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:16px;
    }
    h1,h2,h3{margin:0 0 12px}
    h1{font-size:28px}
    .muted{color:var(--muted)}
    .kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    @media (max-width: 700px){ .kpis{grid-template-columns:repeat(2,1fr)} }
    .kpi{padding:14px;border-radius:12px;border:1px dashed var(--border);background:color-mix(in oklab,var(--card) 85%, var(--bg) 15%)}
    .kpi .val{font-size:22px;font-weight:700}

    /* è¡¨æ ¼ */
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;border-bottom:1px solid var(--border);text-align:left}
    thead th{font-size:12px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}
    tbody tr:hover{background:color-mix(in oklab,var(--card) 70%, var(--bg) 30%)}
    .badge{display:inline-block;font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--border)}
    .ok{color:var(--ok);border-color:color-mix(in oklab,var(--ok) 50%, var(--border) 50%)}
    .warn{color:var(--warn)}
    .err{color:var(--err)}

    /* è¡¨å• */
    .field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    input[type="text"],input[type="email"],select,textarea{
      width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:var(--card);color:var(--text)
    }
    .help{font-size:12px;color:var(--muted)}
    .required::after{content:" *"; color:var(--err)}

    /* toast */
    .toast{
      position:fixed; right:16px; bottom:16px; display:none; max-width:320px;
      padding:12px 14px; background:var(--card); border:1px solid var(--border);
      border-radius:12px; box-shadow:var(--shadow)
    }

    /* å¯¹è¯æ¡† (dialog) polyfill-ish æ ·å¼ */
    dialog{
      border:none; border-radius:16px; padding:0; background:var(--card); color:var(--text);
      box-shadow: var(--shadow); width:min(560px, 92vw)
    }
    dialog::backdrop{background:rgba(0,0,0,.3)}

    /* å°ç»„ä»¶ */
    .toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .search{flex:1; min-width:180px}
    .progress{height:10px;border-radius:999px;background:color-mix(in oklab, var(--bg) 70%, var(--card) 30%);overflow:hidden;border:1px solid var(--border)}
    .bar{height:100%;width:42%;background:linear-gradient(90deg,var(--brand),var(--brand-2))}
    .pill{font-size:12px;padding:2px 8px;border-radius:999px;background:color-mix(in oklab,var(--brand) 15%, #fff 85%);border:1px solid var(--border)}
    .code{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size:12px; background:color-mix(in oklab,var(--card) 80%, var(--bg) 20%); padding:10px;border-radius:10px;border:1px solid var(--border)}
    footer{padding:40px 0;color:var(--muted);text-align:center}
  </style>
</head>
<body>
  <header>
    <div class="wrap nav" role="navigation" aria-label="ä¸»å¯¼èˆª">
      <div class="brand">ğŸ§ª æµ‹è¯•é¡µé¢</div>
      <div class="toolbar">
        <button id="themeBtn" class="btn" aria-pressed="false" aria-label="åˆ‡æ¢ä¸»é¢˜">åˆ‡æ¢æµ…/æ·±è‰²</button>
        <button id="openDlg" class="btn">æ‰“å¼€å¯¹è¯æ¡†</button>
        <button id="notify" class="btn primary">æ˜¾ç¤ºé€šçŸ¥</button>
      </div>
    </div>
  </header>

  <main class="wrap" id="main" tabindex="-1">
    <section class="card" aria-labelledby="s1-title">
      <h1 id="s1-title">é¡µé¢æ¦‚è§ˆ <span class="pill">çº¯å‰ç«¯ Â· æ— ä¾èµ–</span></h1>
      <p class="muted">åŒ…å«è¡¨å•ã€è¡¨æ ¼ã€æœç´¢è¿‡æ»¤ã€å¯¹è¯æ¡†ã€é€šçŸ¥ã€è¯­ä¹‰æ ‡ç­¾ã€å¯è®¿é—®æ€§å±æ€§ç­‰å¸¸è§æµ‹è¯•ç‚¹ã€‚</p>

      <div class="kpis" role="list">
        <div class="kpi" role="listitem" aria-label="å®Œæˆç‡">
          <div class="muted">å®Œæˆç‡</div>
          <div class="val" id="kpi-done">42%</div>
          <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
        </div>
        <div class="kpi" role="listitem">
          <div class="muted">è®°å½•æ•°</div>
          <div class="val" id="kpi-rec">8</div>
          <div class="help">å¯é€šè¿‡æœç´¢è¿‡æ»¤</div>
        </div>
        <div class="kpi" role="listitem">
          <div class="muted">é”™è¯¯</div>
          <div class="val err" id="kpi-err">0</div>
          <div class="help">è¡¨å•æ ¡éªŒæ˜¾ç¤ºé”™è¯¯</div>
        </div>
        <div class="kpi" role="listitem">
          <div class="muted">ä¸»é¢˜</div>
          <div class="val" id="kpi-theme">Light</div>
          <div class="help">æ”¯æŒ prefers-color-scheme</div>
        </div>
      </div>
    </section>

    <div class="grid" style="margin-top:16px">
      <!-- å·¦åˆ—ï¼šè¡¨æ ¼ä¸æœç´¢ -->
      <section class="card" aria-labelledby="table-title">
        <div class="toolbar" style="margin-bottom:12px">
          <h2 id="table-title" style="flex:1">æ•°æ®è¡¨</h2>
          <input id="q" class="search" type="text" placeholder="æœç´¢åç§°/çŠ¶æ€â€¦" aria-label="æœç´¢è¡¨æ ¼" />
          <button id="addRow" class="btn">æ·»åŠ ä¸€è¡Œ</button>
        </div>

        <div class="code" aria-live="polite" aria-atomic="true" id="resultInfo">å·²åŠ è½½ 8 æ¡</div>

        <table aria-describedby="resultInfo">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">åç§°</th>
              <th scope="col">çŠ¶æ€</th>
              <th scope="col">æ›´æ–°æ—¶é—´</th>
            </tr>
          </thead>
          <tbody id="tbody">
            <!-- åˆå§‹æ•°æ®ç”± JS æ³¨å…¥ -->
          </tbody>
        </table>
      </section>

      <!-- å³åˆ—ï¼šè¡¨å•/åˆ—è¡¨/åª’ä½“ -->
      <aside class="card" aria-labelledby="form-title">
        <h2 id="form-title">ç¤ºä¾‹è¡¨å•</h2>
        <form id="demoForm" novalidate>
          <div class="field">
            <label class="required" for="name">åç§°</label>
            <input id="name" name="name" type="text" placeholder="å¦‚ï¼šPhoenix West" required />
            <div class="help">å¿…å¡«ï¼Œæœ€å°‘ 2 ä¸ªå­—ç¬¦</div>
          </div>
          <div class="row">
            <div class="field" style="flex:1">
              <label class="required" for="email">é‚®ç®±</label>
              <input id="email" name="email" type="email" placeholder="you@example.com" required />
            </div>
            <div class="field" style="flex:1">
              <label for="status">çŠ¶æ€</label>
              <select id="status" name="status">
                <option value="è¿›è¡Œä¸­">è¿›è¡Œä¸­</option>
                <option value="å·²å®Œæˆ">å·²å®Œæˆ</option>
                <option value="å»¶è¿Ÿ">å»¶è¿Ÿ</option>
              </select>
            </div>
          </div>
          <fieldset class="field" aria-describedby="optHelp">
            <legend>å¯é€‰é¡¹</legend>
            <label><input type="checkbox" name="agree" /> åŒæ„æ¡æ¬¾</label>
            <label><input type="radio" name="prio" value="é«˜" /> é«˜ä¼˜å…ˆçº§</label>
            <label><input type="radio" name="prio" value="ä½" /> ä½ä¼˜å…ˆçº§</label>
            <div id="optHelp" class="help">æœªé€‰æ‹©ä¼˜å…ˆçº§ä¹Ÿå¯æäº¤</div>
          </fieldset>
          <div class="field">
            <label for="desc">æè¿°</label>
            <textarea id="desc" name="desc" rows="3" placeholder="ç®€å•æè¿°â€¦"></textarea>
          </div>
          <div class="row">
            <button class="btn primary" type="submit">æäº¤</button>
            <button class="btn ghost" type="reset">é‡ç½®</button>
          </div>
          <p id="formMsg" class="help" role="status" aria-live="polite"></p>
        </form>

        <hr style="margin:16px 0;border:none;border-top:1px solid var(--border)">

        <h3>å…¶ä»–ç»„ä»¶</h3>
        <details>
          <summary>å±•å¼€æŸ¥çœ‹ SVG å›¾æ ‡ä¸å›¾ç‰‡</summary>
          <div class="row" style="align-items:center">
            <svg width="48" height="48" viewBox="0 0 24 24" aria-label="å‹¾é€‰å›¾æ ‡" role="img">
              <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M7 12l3 3 7-7" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <img alt="å ä½å›¾" width="120" height="80"
                 src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='160'><rect width='100%' height='100%' fill='%23e5e7eb'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='18' fill='%236b7280'>Placeholder</text></svg>">
          </div>
        </details>
      </aside>
    </div>

    <!-- è¯­ä¹‰åŒ–åˆ†åŒºç¤ºä¾‹ -->
    <section class="card" style="margin-top:16px">
      <h2>è¯­ä¹‰ä¸å¯è®¿é—®æ€§</h2>
      <ul>
        <li>è¯­ä¹‰æ ‡ç­¾ï¼š<code>&lt;header&gt;&lt;main&gt;&lt;section&gt;&lt;aside&gt;&lt;footer&gt;</code></li>
        <li>è¡¨æ ¼ä½¿ç”¨ <code>scope</code>ã€è¡¨å•å…·å¤‡ <code>label</code> ä¸ <code>aria-*</code></li>
        <li>é”®ç›˜ä½“éªŒï¼šTab é¡ºåºã€å¯¹è¯æ¡† <kbd>Esc</kbd> å…³é—­</li>
      </ul>
      <p class="muted">æç¤ºï¼šå¯åœ¨ DevTools åˆ‡æ¢é¦–é€‰é…è‰²æ–¹æ¡ˆï¼Œæˆ–ä½¿ç”¨å³ä¸Šè§’æŒ‰é’®ç›´æ¥åˆ‡æ¢ä¸»é¢˜ã€‚</p>
    </section>

    <dialog id="dlg" aria-labelledby="dlg-title">
      <form method="dialog" style="padding:16px">
        <h3 id="dlg-title" style="margin-bottom:8px">ç¤ºä¾‹å¯¹è¯æ¡†</h3>
        <p class="muted">è¿™é‡Œæ˜¯ä»»æ„å†…å®¹ã€‚æŒ‰ <kbd>Esc</kbd> æˆ–ç‚¹å‡»å…³é—­æŒ‰é’®å¯é€€å‡ºã€‚</p>
        <div class="row" style="margin-top:8px;justify-content:flex-end">
          <button class="btn ghost">å…³é—­</button>
        </div>
      </form>
    </dialog>

    <div id="toast" class="toast" role="status" aria-live="polite">è¿™æ˜¯ä¸€æ¡é€šçŸ¥ã€‚</div>
  </main>

  <footer>
    <small>Â© 2025 Test HTML â€¢ æ„å»ºç”¨äºå‰ç«¯/å¯è®¿é—®æ€§/æ ·å¼/äº¤äº’çš„å¿«é€ŸéªŒè¯</small>
  </footer>

  <script>
    // æ•°æ®æ¨¡æ‹Ÿ
    const seed = [
      { id:1, name:"Alpha",  status:"è¿›è¡Œä¸­", updated:"2025-10-02" },
      { id:2, name:"Bravo",  status:"å·²å®Œæˆ", updated:"2025-09-14" },
      { id:3, name:"Charlie",status:"å»¶è¿Ÿ",   updated:"2025-11-03" },
      { id:4, name:"Delta",  status:"è¿›è¡Œä¸­", updated:"2025-11-10" },
      { id:5, name:"Echo",   status:"å·²å®Œæˆ", updated:"2025-08-30" },
      { id:6, name:"Foxtrot",status:"è¿›è¡Œä¸­", updated:"2025-11-20" },
      { id:7, name:"Golf",   status:"å»¶è¿Ÿ",   updated:"2025-11-21" },
      { id:8, name:"Hotel",  status:"è¿›è¡Œä¸­", updated:"2025-11-22" },
    ];
    let rows = [...seed];

    const $ = (s,root=document)=>root.querySelector(s);
    const $$ = (s,root=document)=>[...root.querySelectorAll(s)];

    const tbody = $("#tbody");
    const info = $("#resultInfo");

    function render(data){
      tbody.innerHTML = "";
      data.forEach((r,i)=>{
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${r.id}</td>
          <td>${r.name}</td>
          <td><span class="badge ${r.status==="å·²å®Œæˆ"?"ok":r.status==="å»¶è¿Ÿ"?"warn":""}">${r.status}</span></td>
          <td>${r.updated}</td>
        `;
        tbody.appendChild(tr);
      });
      info.textContent = `å·²åŠ è½½ ${data.length} æ¡ï¼ˆæ€»è®¡ ${rows.length}ï¼‰`;
      $("#kpi-rec").textContent = data.length;
    }
    render(rows);

    // æœç´¢è¿‡æ»¤
    $("#q").addEventListener("input", e=>{
      const q = e.target.value.trim().toLowerCase();
      const filtered = rows.filter(r => (r.name.toLowerCase().includes(q) || r.status.includes(q)));
      render(filtered);
    });

    // æ·»åŠ ä¸€è¡Œ
    $("#addRow").addEventListener("click", ()=>{
      const id = rows.length ? Math.max(...rows.map(r=>r.id)) + 1 : 1;
      const names = ["India","Juliet","Kilo","Lima","Mike","November","Oscar"];
      const pick = names[Math.floor(Math.random()*names.length)];
      const statuses = ["è¿›è¡Œä¸­","å·²å®Œæˆ","å»¶è¿Ÿ"];
      const status = statuses[Math.floor(Math.random()*statuses.length)];
      const today = new Date().toISOString().slice(0,10);
      rows.push({ id, name: pick, status, updated: today });
      render(rows);
      toast(`å·²æ·»åŠ è¡Œ #${id} (${pick})`);
      updateProgress();
    });

    // è¡¨å•æ ¡éªŒ
    const f = $("#demoForm");
    f.addEventListener("submit", e=>{
      e.preventDefault();
      const name = f.name.value.trim();
      const email = f.email.value.trim();
      let ok = true, msg = [];
      if(name.length < 2){ ok = false; msg.push("åç§°è‡³å°‘ 2 ä¸ªå­—ç¬¦"); }
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ ok = false; msg.push("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"); }
      const m = $("#formMsg");
      if(ok){
        m.textContent = "âœ… æäº¤æˆåŠŸï¼ˆä»…å‰ç«¯æ¨¡æ‹Ÿï¼‰";
        m.style.color = "var(--ok)";
        toast("è¡¨å•æäº¤æˆåŠŸï¼");
      }else{
        m.textContent = "âŒ " + msg.join("ï¼›");
        m.style.color = "var(--err)";
        $("#kpi-err").textContent = "1";
      }
    });

    // å¯¹è¯æ¡†
    const dlg = $("#dlg");
    $("#openDlg").addEventListener("click", ()=> dlg.showModal());

    // é€šçŸ¥
    const toastEl = $("#toast");
    function toast(text){
      toastEl.textContent = text;
      toastEl.style.display = "block";
      clearTimeout(toastEl._t);
      toastEl._t = setTimeout(()=> toastEl.style.display = "none", 2400);
    }
    $("#notify").addEventListener("click", ()=> toast("è¿™æ˜¯ä¸€æ¡æµ‹è¯•é€šçŸ¥ã€‚"));

    // ä¸»é¢˜åˆ‡æ¢
    const themeBtn = $("#themeBtn");
    function setTheme(next){
      document.documentElement.setAttribute("data-theme", next);
      themeBtn.setAttribute("aria-pressed", next==="dark" ? "true" : "false");
      $("#kpi-theme").textContent = next==="dark" ? "Dark" : "Light";
    }
    themeBtn.addEventListener("click", ()=>{
      const cur = document.documentElement.getAttribute("data-theme") || "light";
      setTheme(cur === "light" ? "dark" : "light");
    });
    // æ ¹æ®ç”¨æˆ·åå¥½åˆå§‹åŒ–
    if(window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches){
      setTheme("dark");
    }

    // è¿›åº¦æ¡/å®Œæˆç‡æ¼”ç¤º
    function updateProgress(){
      const completed = rows.filter(r=>r.status==="å·²å®Œæˆ").length;
      const pct = Math.round(completed / rows.length * 100) || 0;
      $("#bar").style.width = pct + "%";
      $("#kpi-done").textContent = pct + "%";
    }
    updateProgress();

    // é”®ç›˜å¯ç”¨æ€§ï¼šé€šçŸ¥åŒºå¯èšç„¦ï¼›æ‰“å¼€å¯¹è¯æ¡†åèšç„¦å…³é—­æŒ‰é’®
    dlg.addEventListener("close", ()=> $("#main").focus());
  </script>
</body>
</html>
